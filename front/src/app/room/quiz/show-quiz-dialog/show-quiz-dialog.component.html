<mat-card>
  <mat-card-header>
    <mat-card-title>
      {{data.quiz.name}}
    </mat-card-title>
  </mat-card-header>
  <mat-card-content >
    <div *ngIf="data.quiz.author === data.user.email; then authorContent; else studentContent"></div>
  </mat-card-content>
  <mat-card-actions *ngIf="data.quiz.author !== data.user.email && data.quiz.is_open && !userAnswer">
    <button mat-raised-button color="primary" (click)="answerQuiz()">Ответить</button>
  </mat-card-actions>
  <mat-card-actions *ngIf="data.quiz.is_open && data.quiz.author === data.user.email">
    <button mat-flat-button color="warn" (click)="closeQuiz()">Закрыть опрос</button>
  </mat-card-actions>
</mat-card>

<ng-template #authorContent>
  <div>
    {{data.quiz | json}}
  </div>
</ng-template>
<ng-template #studentContent>
  <h3>Выбери правильный ответ</h3>
  <p>{{data.quiz.content}}</p>
  <div class="answers">
    <button class="option" [ngClass]="{'selected': selectedVariant.id === variant.id || (!!userAnswer && variant.id === userAnswer.variant_id)}" mat-flat-button *ngFor="let variant of data.quiz.variants" (click)="selectVariant(variant)">{{variant.value}}</button>
  </div>
</ng-template>
